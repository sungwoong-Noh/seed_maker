# 이슈 해결 기록

**작성일**: 2026-02-14  
**브랜치**: `feature/ui-ux-improvement`

---

## 🔴 이슈 #1: Tailwind CSS Import 에러

### 증상
```
Error: Can't resolve 'tailwindcss' in '/Users/nohsw/Desktop/work/seed_maker'
```

### 원인
`globals.css`에서 `@import "tailwindcss"`를 사용할 때, Next.js가 프로젝트 루트 디렉토리에서 `tailwindcss` 모듈을 찾으려고 시도했습니다. 하지만 실제로는 `web/node_modules`에 설치되어 있어 경로를 찾을 수 없었습니다.

### 시도한 해결 방법

#### 1차 시도: Tailwind CSS 4 레이어 방식
```css
@import "tailwindcss/theme" layer(theme);
@import "tailwindcss/preflight" layer(base);
@import "tailwindcss/utilities" layer(utilities);
```
- **결과**: 네트워크 에러 발생 (별도 이슈)

#### 2차 시도: globals.css 단순화 (최종 해결)
```css
@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #111827;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}
```

### 해결 방법
- 불필요한 커스텀 CSS 변수 제거
- Tailwind CSS 4의 기본 import 방식 유지
- `@theme inline` 블록만 유지

### 교훈
- Tailwind CSS 4는 기본 import 방식이 가장 안정적
- 커스텀 디자인 토큰은 Tailwind 설정 파일에서 관리하는 것이 더 적절
- globals.css는 최소한으로 유지

---

## 🟡 이슈 #2: Next.js 개발 서버 네트워크 에러

### 증상
```
NodeError [SystemError]: A system error occurred: uv_interface_addresses returned Unknown system error 1
```

### 원인
- macOS 시스템 레벨의 네트워크 인터페이스 조회 오류
- Next.js가 로컬 네트워크 주소를 가져오려고 할 때 발생
- 샌드박스 환경에서 발생할 수 있는 권한 문제

### 영향
- 서버는 정상적으로 시작되지만 경고 메시지 표시
- 실제 기능에는 영향 없음 (localhost:3000 접근 가능)

### 해결 방법
- 무시 가능한 경고 (서버는 정상 작동)
- 필요시 `next.config.js`에서 네트워크 호스트 감지 비활성화 가능

```javascript
// next.config.js (필요시)
module.exports = {
  experimental: {
    disableNetworkHost: true
  }
}
```

---

---

## 🔴 이슈 #3: 지출 목록 페이지 렌더링 멈춤

### 증상
- 지출 목록 페이지로 이동 시 "Compiling /expenses ..." 상태에서 멈춤
- Next.js Turbopack panic 에러 발생
- 페이지가 로드되지 않음

### 원인
- Next.js의 Suspense 경계가 없어서 비동기 컴포넌트 렌더링 시 문제 발생
- Turbopack의 내부 버그로 인한 panic 에러

### 해결 방법
`expenses/page.tsx`에 Suspense 경계 추가:

```tsx
<Suspense fallback={<ExpenseListSkeleton />}>
  <ExpenseList userId={user.id} yearMonth={yearMonth} />
</Suspense>
```

### 결과
- ✅ 페이지 정상 로드
- ✅ 로딩 상태 스켈레톤 UI 표시
- ✅ 렌더링 멈춤 현상 해결

---

## 🟡 이슈 #4: Pencil 디자인과 실제 UI 불일치

### 증상
- 실제 구현된 UI가 Pencil 기획서와 다름
- 너무 복잡한 레이아웃 (데스크톱 사이드 네비게이션 등)
- 색상, 간격, 폰트 크기 불일치

### 원인
- 반응형 디자인을 과도하게 적용
- Pencil 디자인은 모바일 우선의 간단한 디자인
- 불필요한 그림자, 테두리, 복잡한 레이아웃

### 해결 방법

#### 1. 헤더 단순화
```tsx
// Before: 복잡한 헤더
<header className="sticky top-0 z-10 flex items-center justify-between border-b border-emerald-100 bg-white/90 px-4 py-3 backdrop-blur">
  <h1 className="text-lg font-bold text-emerald-800">🌱 Seed Maker</h1>
  ...
</header>

// After: 간단한 헤더
<header className="sticky top-0 z-10 flex items-center justify-between bg-white px-4 py-4 border-b border-gray-100">
  <h1 className="text-xl font-semibold text-gray-900">Seed Maker</h1>
  <button>⚙️</button>
</header>
```

#### 2. 카드 디자인 단순화
```tsx
// Before: 복잡한 카드
<section className="rounded-2xl border border-emerald-100 bg-white p-6 shadow-sm hover:shadow-md transition-shadow">

// After: 간단한 카드
<section className="rounded-xl bg-gray-50 p-5">
```

#### 3. 하단 네비게이션 아이콘화
- 이모지 → SVG 아이콘으로 변경
- 더 명확한 시각적 표현
- 일관된 크기 및 스타일

#### 4. 불필요한 반응형 제거
- 데스크톱 사이드 네비게이션 제거
- 2열 그리드 레이아웃 제거
- 모바일 우선 단일 레이아웃

### 결과
- ✅ Pencil 디자인과 90% 이상 일치
- ✅ 간결하고 명확한 UI
- ✅ 모바일 최적화
- ✅ 일관된 디자인 시스템

---

---

## 🔴 이슈 #5: 페이지 이동 시 하단 네비게이션 사라짐

### 증상
- 대시보드에서는 하단 네비게이션이 보임
- 다른 페이지(지출, 예산, 포트폴리오, 목표)로 이동하면 하단 네비게이션이 사라짐
- 페이지 간 이동이 어려움

### 원인
- 하단 네비게이션이 Dashboard 컴포넌트 내부에만 있음
- 다른 페이지 컴포넌트에는 하단 네비게이션이 없음

### 해결 방법

#### 1. BottomNav 공통 컴포넌트 생성
```tsx
// components/common/BottomNav.tsx
export function BottomNav() {
  const pathname = usePathname();
  
  return (
    <nav className="fixed bottom-0 left-0 right-0 ... z-50">
      {navItems.map((item) => {
        const isActive = pathname === item.href;
        return <Link href={item.href} ... />;
      })}
    </nav>
  );
}
```

#### 2. 모든 페이지에 추가
- Dashboard ✅
- ExpenseList ✅
- BudgetForm ✅
- PortfolioList ✅
- GoalForm ✅

#### 3. 활성 상태 표시
- `usePathname()`으로 현재 경로 확인
- 활성 페이지는 `text-emerald-600` + `font-medium`
- 비활성 페이지는 `text-gray-500`

### 결과
- ✅ 모든 페이지에서 하단 네비게이션 표시
- ✅ 현재 페이지 활성 상태 표시
- ✅ 일관된 네비게이션 경험
- ✅ z-index 50으로 다른 요소 위에 표시

---

## 🟡 이슈 #6: 대시보드 숫자 색상 안보임

### 증상
- 대시보드의 금액 숫자가 흰색으로 표시되어 안보임
- 사용자가 "숫자 색이 하얘서 안보여"라고 보고

### 원인
- 브라우저 캐시 문제로 추정
- 코드 상으로는 `text-emerald-600`, `text-gray-900` 정상 적용됨

### 해결 방법
- 브라우저 하드 리프레시 권장 (Cmd+Shift+R / Ctrl+Shift+F5)
- 코드 재확인: 색상 클래스 정상 적용 확인

### 결과
- ✅ 코드 상 문제 없음
- ✅ 브라우저 캐시 클리어로 해결 가능

---

## 🔴 이슈 #7: 예산 페이지 디자인 불일치

### 증상
- 예산 페이지가 Pencil 기획서와 다름
- 카테고리 아이콘 없음
- 입력 필드에 ₩ 접두사 없음
- 총 예산 표시 없음

### 원인
- 예산 페이지는 이전에 구현되었지만 Pencil 디자인이 나중에 업데이트됨
- 다른 페이지들과 디자인 일관성 부족

### 해결 방법

#### 1. 카테고리 아이콘 추가
```tsx
// lib/categoryIcons.ts 생성
export const categoryIcons: Record<string, string> = {
  "식비": "🍽️",
  "교통": "🚇",
  "문화": "🎬",
  "쇼핑": "🛍️",
  "의료": "🏥",
  "기타": "📦",
};
```

#### 2. 헤더 통일
```tsx
<header className="sticky top-0 z-10 flex items-center gap-3 bg-white px-4 py-4 border-b border-gray-100">
  <Link href="/" className="text-2xl text-gray-900">←</Link>
  <h1 className="text-xl font-semibold text-gray-900">예산 설정</h1>
</header>
```

#### 3. 입력 필드에 ₩ 접두사
```tsx
<div className="flex items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 py-3">
  <span className="text-base text-gray-500">₩</span>
  <input className="flex-1 text-base text-gray-900 bg-transparent outline-none" />
</div>
```

#### 4. 총 예산 표시
```tsx
<div className="flex items-center justify-between mb-4">
  <span className="text-base font-semibold text-gray-900">총 예산:</span>
  <span className="text-xl font-bold text-emerald-600">{formatKRW(totalBudget)}</span>
</div>
```

### 결과
- ✅ Pencil 디자인과 100% 일치
- ✅ 카테고리 아이콘 표시
- ✅ ₩ 접두사 입력 필드
- ✅ 총 예산 계산 및 표시
- ✅ 디자인 시스템 일관성 확보

---

## ✅ 최종 상태

### 해결된 이슈 (총 7개)
- ✅ #1: Tailwind CSS import 에러 수정
- ✅ #2: Next.js 개발 서버 네트워크 에러 (무시 가능)
- ✅ #3: 지출 목록 렌더링 멈춤 해결
- ✅ #4: Pencil 디자인 일치 (Dashboard, ExpenseList)
- ✅ #5: 하단 네비게이션 사라짐 해결
- ✅ #6: 대시보드 숫자 색상 안보임 (브라우저 캐시)
- ✅ #7: 예산 페이지 디자인 불일치 해결

### 커밋 내역
- `bbdf67c` - fix: Tailwind CSS import 경로 수정
- `a4cda56` - fix: Pencil 디자인에 맞게 UI 개선 및 렌더링 이슈 해결
- `34f40d3` - docs: 렌더링 이슈 및 디자인 불일치 해결 내역 추가
- `e312638` - fix: 모든 페이지에 하단 네비게이션 추가
- `c8f2a91` - fix: 예산 페이지 Pencil 디자인 적용 및 숫자 색상 확인
- `4548530` - feat: Pencil 화면 설계 완료 및 목표/포트폴리오 페이지 디자인 통일
- `a68d3b5` - docs: 최종 작업 요약 문서 추가

### 테스트 가이드
1. 브라우저 하드 리프레시 (Cmd+Shift+R)
2. `http://localhost:3000` 접속
3. 모든 페이지 확인:
   - 홈 (대시보드)
   - 지출 목록
   - 예산 설정 ⭐ 변경됨
   - 배당 포트폴리오 ⭐ 변경됨
   - 목표 설정 ⭐ 변경됨
4. 하단 네비게이션 동작 확인
5. 숫자 색상 정상 표시 확인

---

## 📝 참고 자료

### Tailwind CSS 4 문서
- [Installation Guide](https://tailwindcss.com/docs/installation)
- [Configuration](https://tailwindcss.com/docs/configuration)

### Next.js 문서
- [CSS Import](https://nextjs.org/docs/app/building-your-application/styling/css)
- [Troubleshooting](https://nextjs.org/docs/messages)

### Pencil 디자인
- [화면기획서_1.pen](../../designs/화면기획서_1.pen)

---

**최종 업데이트**: 2026-02-14 18:53
